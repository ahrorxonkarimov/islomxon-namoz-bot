<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islomxon Masjidi Namoz Vaqtlari</title>
    <style>
        /* CSS qismi o'zgarmadi, faqat til almashtirgich qo'shildi */
        .lang-switcher {
            text-align: center;
            margin: 15px 0;
        }
        .lang-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px 15px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        .lang-btn.active {
            background: rgba(255,255,255,0.4);
        }
    </style>
    <!-- Qolgan CSS oldingi kabi -->
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title" id="mainTitle">üïå Islomxon Jome Masjidi</h1>
            <p class="subtitle" id="subTitle">Namoz vaqtlarini kiriting</p>
            
            <div class="lang-switcher">
                <button class="lang-btn active" onclick="changeLanguage('uz')">Lotin</button>
                <button class="lang-btn" onclick="changeLanguage('kr')">Kirill</button>
            </div>
        </header>

        <main class="main">
            <div id="errorMessage" class="error-message"></div>
            <div id="successMessage" class="success-message"></div>

            <div id="previewSection" class="preview-section">
                <div class="preview-title" id="previewTitle">üìã Post Ko'rinishi:</div>
                <div id="previewContent" class="preview-content"></div>
            </div>

            <form id="prayerForm" class="form">
                <div class="input-group">
                    <label for="sana" id="sanaLabel">üìÖ Sana</label>
                    <input type="text" id="sana" name="sana" required 
                           placeholder="Masalan: 15-dekabr, 2024 yil"
                           oninput="updatePreview()">
                </div>

                <div class="prayer-times">
                    <div class="input-group">
                        <label for="bomdod" id="bomdodLabel">üåÖ Bomdod</label>
                        <input type="text" id="bomdod" name="bomdod" required 
                               placeholder="06:00" oninput="updatePreview()">
                    </div>

                    <div class="input-group">
                        <label for="peshin" id="peshinLabel">‚òÄÔ∏è Peshin</label>
                        <input type="text" id="peshin" name="peshin" required 
                               placeholder="12:30" oninput="updatePreview()">
                    </div>

                    <div class="input-group">
                        <label for="asr" id="asrLabel">üå§Ô∏è Asr</label>
                        <input type="text" id="asr" name="asr" required 
                               placeholder="15:45" oninput="updatePreview()">
                    </div>

                    <div class="input-group">
                        <label for="shom" id="shomLabel">üåá Shom</label>
                        <input type="text" id="shom" name="shom" required 
                               placeholder="18:20" oninput="updatePreview()">
                    </div>

                    <div class="input-group">
                        <label for="xufton" id="xuftonLabel">üåô Xufton</label>
                        <input type="text" id="xufton" name="xufton" required 
                               placeholder="19:45" oninput="updatePreview()">
                    </div>
                </div>

                <div class="input-group">
                    <label for="izoh" id="izohLabel">üí´ Izoh (ixtiyoriy)</label>
                    <textarea id="izoh" name="izoh" 
                              placeholder="Qo'shimcha ma'lumot yoki eslatma..."
                              oninput="updatePreview()"></textarea>
                </div>

                <button type="submit" class="submit-btn">
                    <span class="btn-text" id="submitText">üì§ Kanalga yuborish</span>
                    <div class="loading-spinner" id="loadingSpinner"></div>
                </button>
            </form>

            <div class="quote">
                <p id="quoteText">"üìç Hududingiz uchun to'g'ri vaqtda ibodatni ado eting. Alloh har bir qadamimizni savobli qilsin!"</p>
            </div>
        </main>

        <footer class="footer">
            <p>Islomxon jome masjidi ‚Ä¢ @Islomxon_masjidi</p>
        </footer>
    </div>

    <script>
        // Tillar
        const translations = {
            uz: {
                mainTitle: "üïå Islomxon Jome Masjidi",
                subTitle: "Namoz vaqtlarini kiriting",
                previewTitle: "üìã Post Ko'rinishi:",
                sanaLabel: "üìÖ Sana",
                bomdodLabel: "üåÖ Bomdod",
                peshinLabel: "‚òÄÔ∏è Peshin",
                asrLabel: "üå§Ô∏è Asr",
                shomLabel: "üåá Shom",
                xuftonLabel: "üåô Xufton",
                izohLabel: "üí´ Izoh (ixtiyoriy)",
                submitText: "üì§ Kanalga yuborish",
                quoteText: "\"üìç Hududingiz uchun to'g'ri vaqtda ibodatni ado eting. Alloh har bir qadamimizni savobli qilsin!\"",
                sanaPlaceholder: "Masalan: 15-dekabr, 2024 yil",
                bomdodPlaceholder: "06:00",
                peshinPlaceholder: "12:30",
                asrPlaceholder: "15:45",
                shomPlaceholder: "18:20",
                xuftonPlaceholder: "19:45",
                izohPlaceholder: "Qo'shimcha ma'lumot yoki eslatma..."
            },
            kr: {
                mainTitle: "üïå –ò—Å–ª–æ–º—Ö–æ–Ω –ñ–æ–º–µ –ú–∞—Å–∂–∏–¥–∏",
                subTitle: "–ù–∞–º–æ–∑ –≤–∞–∫—Ç–ª–∞—Ä–∏–Ω–∏ –∫–∏—Ä–∏—Ç–∏–Ω–≥",
                previewTitle: "üìã –ü–æ—Å—Ç –ö—û—Ä–∏–Ω–∏—à–∏:",
                sanaLabel: "üìÖ –°–∞–Ω–∞",
                bomdodLabel: "üåÖ –ë–æ–º–¥–æ–¥",
                peshinLabel: "‚òÄÔ∏è –ü–µ—à–∏–Ω",
                asrLabel: "üå§Ô∏è –ê—Å—Ä",
                shomLabel: "üåá –®–æ–º",
                xuftonLabel: "üåô –•—É—Ñ—Ç–æ–Ω",
                izohLabel: "üí´ –ò–∑–æ“≥ (–∏—Ö—Ç–∏—ë—Ä–∏–π)",
                submitText: "üì§ –ö–∞–Ω–∞–ª–≥–∞ —é–±–æ—Ä–∏—à",
                quoteText: "\"üìç “≤—É–¥—É–¥–∏–Ω–≥–∏–∑ —É—á—É–Ω —Ç—û“ì—Ä–∏ –≤–∞–∫—Ç–¥–∞ –∏–±–æ–¥–∞—Ç–Ω–∏ –∞–¥–æ —ç—Ç–∏–Ω–≥. –ê–ª–ª–æ“≥ “≥–∞—Ä –±–∏—Ä “õ–∞–¥–∞–º–∏–∑–Ω–∏ —Å–∞–≤–æ–±–ª–∏ “õ–∏–ª—Å–∏–Ω!\"",
                sanaPlaceholder: "–ú–∞—Åalan: 15-–¥–µ–∫–∞–±—Ä, 2024 –π–∏–ª",
                bomdodPlaceholder: "06:00",
                peshinPlaceholder: "12:30",
                asrPlaceholder: "15:45",
                shomPlaceholder: "18:20",
                xuftonPlaceholder: "19:45",
                izohPlaceholder: "“ö—û—à–∏–º—á–∞ –º–∞—ä–ª—É–º–æ—Ç —ë–∫–∏ —ç—Å–ª–∞—Ç–º–∞..."
            }
        };

        let currentLang = 'uz';

        // Tilni o'zgartirish
        function changeLanguage(lang) {
            currentLang = lang;
            
            // Tugmalarni yangilash
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Matnlarni yangilash
            Object.keys(translations[lang]).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    if (key.includes('Placeholder')) {
                        const fieldName = key.replace('Placeholder', '');
                        document.getElementById(fieldName.toLowerCase()).placeholder = translations[lang][key];
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });
            
            updatePreview();
        }

        // Qolgan JavaScript kodlari o'zgarmadi, faqat lang parametri qo'shildi
        // Form yuborishda:
        const formData = {
            // ... oldingi maydonlar
            lang: currentLang  // Bu qator qo'shildi
        };

        // Telegram Web App initializatsiyasi va boshqa funksiyalar o'zgarmadi
        // Faqat updatePreview() funksiyasi postni har doim LOTIN tilida yuboradi
    </script>
</body>
</html>
